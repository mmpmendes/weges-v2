<MudGrid>
    <MudItem xs="6">
        <MudCard>
            <MudCardHeader>
                <CardHeaderContent>
                    <MudText>Certificado de Registo ERS</MudText>
                </CardHeaderContent>
            </MudCardHeader>
            <MudCardContent>

                @if (CertificadoErs is not null)
                {
                    <MudGrid>
                        <MudItem xs="12">
                            <MudTextField T="string" @bind-Text="CertificadoErs.NrCertificado" Label="Nº do certificado" />
                        </MudItem>
                        <MudItem xs="12">
                            <MudTextField T="string" @bind-Text="CertificadoErs.Periodo" Label="Período" />
                        </MudItem>
                        <MudItem xs="12">
                            <MudTextField T="DateOnly?" @bind-Value="CertificadoErs.DataExpiracao" Label="Data de expiração" />
                        </MudItem>
                        <MudItem xs="12">
                            <MudTextField T="DateOnly?" @bind-Value="CertificadoErs.DataExpiracaoTaxa" Label="Data de expiração taxa" />
                        </MudItem>
                        <MudItem xs="12">
                            <MudTextField T="string" @bind-Text="CertificadoErs.Observacoes" Label="Observações" />
                        </MudItem>
                        <MudItem xs="12">
                            @if (CertificadoErs.FicheiroId > 0)
                            {
                                <MudButton Variant="Variant.Outlined" Color="@Color.Dark" OnClick="DownloadCertificadoErs" EndIcon="@Icons.Material.Filled.Download">
                                    Download Ficheiro
                                </MudButton>
                            }
                            else
                            {
                                <FileUploadButton SelectedFileChanged="OnCertificadoFileSelected" Label="Carregar Ficheiro" />
                            }
                        </MudItem>
                        <MudItem xs="12">
                            <MudButton OnClick="UploadCertificado" Disabled="@(!IsCertificadoFileSelected)" Color="@Color.Dark" Variant="Variant.Filled">Guardar Certificado</MudButton>
                        </MudItem>
                    </MudGrid>
                }
            </MudCardContent>
        </MudCard>
    </MudItem>
    <MudItem xs="6">
        <MudCard>
            <MudCardHeader>
                <MudText>Licença de Funcionamento ERS</MudText>
            </MudCardHeader>
            <MudCardContent>

                @if (LicencaErs is not null)
                {
                    <MudGrid>
                        <MudItem xs="12">
                            <MudTextField T="string" @bind-Text="LicencaErs.NrLicenca" Label="Nº de Licença" />
                        </MudItem>
                        <MudItem xs="12">
                            <MudTextField T="string" @bind-Text="LicencaErs.Observacoes" Label="Observações" />
                        </MudItem>
                        <MudItem xs="12">
                            @if (LicencaErs.FicheiroId > 0)
                            {
                                <MudButton Color="@Color.Dark" Variant="Variant.Outlined" OnClick="DownloadLicencaErs" EndIcon="@Icons.Material.Filled.Download">
                                    Download Ficheiro
                                </MudButton>
                            }
                            else
                            {
                                <FileUploadButton SelectedFileChanged="OnLicencaFileSelected" Label="Carregar Ficheiro" />
                            }
                        </MudItem>
                        <MudItem xs="12">
                            <MudButton OnClick="UploadLicenca" Disabled="@(!IsLicencaFileSelected)" Color="@Color.Dark" Variant="Variant.Filled">Guardar Licença</MudButton>
                        </MudItem>
                    </MudGrid>
                }
            </MudCardContent>
        </MudCard>
    </MudItem>
</MudGrid>