@page "/Estabelecimentos/{EstabelecimentoId:long}/DirecaoClinica"
@page "/Estabelecimentos/{EstabelecimentoId:long}/DirecaoClinica/{DirecaoClinicaId:long}"
@* @attribute [Authorize] *@
@using Microsoft.AspNetCore.Authorization
@using SharedKernel.DTO

<PageTitle>Direção Clínica </PageTitle>

<MudGrid Class="py-3 px-3">
    <MudItem xs="12">
        <MudText Typo="Typo.h6">Diretor Clínico / Responsável Técnico</MudText>
    </MudItem>
    @if (DirecaoClinica == null)
    {
        <MudItem xs="6">
            <MudText>Carregando...</MudText>
        </MudItem>
    }
    else
    {
        <MudItem xs="12">
            <MudTextField T="string" @bind-Text="DirecaoClinica.Nome" Label="Nome" />
        </MudItem>
        <MudItem xs="6">
            <MudTextField T="string" @bind-Text="DirecaoClinica.Identificacao" Label="Identificação" />
        </MudItem>
        <MudItem xs="6">
            <MudDatePicker Date="@DirecaoClinica.ValidadeIdentificacao" Label="Validade Identificação" />
        </MudItem>
        <MudItem xs="6">
            <MudTextField T="string" @bind-Text="DirecaoClinica.Cargo" Label="Cargo" />
        </MudItem>
        <MudItem xs="6">
            <MudTextField T="string" @bind-Text="DirecaoClinica.Cedula" Label="Cédula Profissional" />
        </MudItem>
        <MudItem xs="6">
            <MudTextField T="string" @bind-Text="DirecaoClinica.Ordem" Label="Associação Profissional/Ordem" />
        </MudItem>
        <MudItem xs="6">
            <MudAutocomplete @bind-Value="DirecaoClinica.TipologiaNome"
                             SearchFunc="Search"
                             Variant="Variant.Text"
                             Label="Tipologia"
                             Margin="Margin.None"
                             Dense="true"
                             ReadOnly="false"
                             Clearable="true" />
        </MudItem>
        <MudItem xs="12">
            <MudTextField T="string" @bind-Text="DirecaoClinica.Observacoes" Label="Observações" Lines="2" AutoGrow="true" />
        </MudItem>
    }
    <MudItem xs="12">
        <SaveBackControl OnClickSaveEventHandler="SaveDirecaoClinica" OnClickBackEventHandler="GoBackToEstabelecimento" />
    </MudItem>
</MudGrid>
